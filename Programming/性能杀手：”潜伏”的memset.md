# 性能杀手：”潜伏”的memset

http://blog.csdn.net/yunhua_lee/article/details/6381866

**【总结汇总】**

| 代码                              | 作用                                | 性能(ms/times) | 是否隐含调用memset |
| --------------------------------- | ----------------------------------- | -------------- | ------------------ |
| char buffer[1024 * 1024] = {0};   | 申请栈空间，并将第一个元素设置为0   | 75/1000        | 是                 |
| char buffer[1024 * 1024] = {0,};  | 75/1000                             |                |                    |
| char buffer[1024 * 1024] = {};    | 申请栈空间，不设置任何元素          | 75/1000        |                    |
| char buffer[1024 * 1024] = {100}; | 申请栈空间，并将第一个元素设置为100 | 75/1000        |                    |
| char buffer[1024 * 1024 ];        | 只申请栈空间                        | 5/1000000      | 否                 |

 

综合前面的代码分析和性能[**测试**](http://lib.csdn.net/base/softwaretest)，建议大家在编写代码的时候不要用char buffer[1024 * 1024] = XXX;这种方式，而要使用char buffer[1024 * 1024];除非确定一定要memset。